<% provide(:title, 'Resources') %>

<% content_for :inner_header do %>
  <h1>Hello, <%= @name %>!</h1>
<% end %>

<% content_for :sidebar do %>
  <%= render 'shared/tags' %>
<% end %>

<%= render 'resources/addition' %>

<%= link_to 'Add resource', '#new-res-btn',
            {role: 'button', class: 'btn', 'data-toggle' => 'modal'} %>
<%= link_to 'See your tags', tags_path, {class: 'btn'} %>


<br>
<%= @id %>

<%= render 'shared/errors' %>

<table class="table table-bordered table-striped table-condensed">
  <thead>
  <tr>
    <th style="width: 2%">â„–</th>
    <th style="width: 44%">Name</th>
    <th style="width: 44%">Tags</th>
    <th style="width: 10%">&nbsp</th>
  </tr>
  </thead>
  <tbody>
  <% @resources.each_with_index do |resource, count| %>
    <tr>
      <td><%= count+1 %></td>
      <td><%= link_to resource[:name], resource[:url] %></td>
      <td>
        <% resource[:tags].each do |tag_id| %>
          <div class="label"><%= link_to @tags[tag_id], {action: :filter, id: tag_id} %></div>
        <% end %>
      </td>
      <td style="text-align: center">
        <%= link_to 'Edit', edit_resource_path(resource[:id]), {class: 'btn', id: "edit-#{count}"} %>
      </td>
      <td style="text-align: center">
        <%= link_to 'Delete', resource_path(resource[:id]), :method => :delete, :confirm => "Are you sure?", :class => 'btn' %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>